
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.gen3.org/gen3-resources/operator-guide/submit-unstructured-data/">
      
      
        <link rel="prev" href="../submit-structured-data/">
      
      
        <link rel="next" href="../submit-semi-structured-data/">
      
      
      <link rel="icon" href="../../../img/Gen3-3.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Unstructured Data - Gen3 Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unstructured-data-data-files" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Gen3 Documentation" class="md-header__button md-logo" aria-label="Gen3 Documentation" data-md-component="logo">
      
  <img src="../../../img/gen3_new_logo_white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Gen3 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Unstructured Data
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="brh_platform" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="brh_platform_dark" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-4.5c5 0 9.27 3.11 11 7.5-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5M3.18 12a9.821 9.821 0 0 0 17.64 0 9.821 9.821 0 0 0-17.64 0"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    

    <!-- Custom link to Gen3.org (with an external link icon) -->
    <div style="margin-right: 10px; display: flex; align-items: center;">
      <a href="https://gen3.org/" class="md-header__button" aria-label="Gen3.org" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; font-size: 1.6em; font-weight: bold;">
        Gen3.org
        <!-- Insert your preferred external link icon here -->
        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" style="margin-left: 5px;" viewBox="0 0 16 16"><g fill="currentColor" fill-rule="evenodd"><path d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a.5.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5"/><path d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0z"/></g></svg>
      </a>
    </div>
    <!-- End of custom link to Gen3.org with an external link icon -->


    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/uc-cdis/docs-gen3" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Gen3 Documentation" class="md-nav__button md-logo" aria-label="Gen3 Documentation" data-md-component="logo">
      
  <img src="../../../img/gen3_new_logo_white.svg" alt="logo">

    </a>
    Gen3 Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/uc-cdis/docs-gen3" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About Gen3
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gen3 Community
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../user-guide/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Search for Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/access-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Access Data Files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/analyze-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analyze Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/portal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Portal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/using-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use the API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Operator Guide - Deploy Gen3
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Operator Guide - Deploy Gen3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prerequisites for Deploying Gen3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Pre-Deployment
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Pre-Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_1" >
        
          
          <label class="md-nav__link" for="__nav_5_3_1" id="__nav_5_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Infrastructure as Code
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_1">
            <span class="md-nav__icon md-icon"></span>
            Infrastructure as Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iac-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Infrastructure as Code - Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iac-terraform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terraform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iac-terragrunt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terragrunt
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iac-atlantis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Atlantis
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ssl-cert/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prepare SSL Certificate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gen3-authn-methods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication Methods
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../helm/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Setup Gen3 (Configure and Deploy) with Helm
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Setup Gen3 (Configure and Deploy) with Helm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helm/helm-deploy-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helm/helm-deploy-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example - Minimal Local Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helm/helm-deploy-production-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example - Production Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helm/helm-deploy-databases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Databases in Gen3 Helm charts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../helm/helm-config/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Configure services with Helm
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_4_6" id="__nav_5_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4_6">
            <span class="md-nav__icon md-icon"></span>
            Configure services with Helm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helm/helm-config/helm-config-auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AuthN/AuthZ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helm/helm-config/helm-config-data-svcs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data-related Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helm/helm-config/helm-config-frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Front End
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helm/helm-config/helm-config-workspaces/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workspaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helm/helm-config/helm-config-revproxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Revproxy
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Post-Deployment
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Post-Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../create-data-dictionary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Data Dictionary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_5_2" id="__nav_5_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Submit Data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_5_2">
            <span class="md-nav__icon md-icon"></span>
            Submit Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submit-structured-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Structured Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Unstructured Data
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Unstructured Data
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#standard-submission-process" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Submission Process
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Standard Submission Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-prepare-project-in-submission-portal" class="md-nav__link">
    <span class="md-ellipsis">
      1. Prepare Project in Submission Portal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-upload-data-files-to-object-storage" class="md-nav__link">
    <span class="md-ellipsis">
      2. Upload Data Files to Object Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-map-uploaded-files-to-a-data-file-node" class="md-nav__link">
    <span class="md-ellipsis">
      3. Map Uploaded Files to a Data File Node
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexing-files-already-found-in-the-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Indexing files already found in the cloud
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Indexing files already found in the cloud">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-prepare-project-with-the-gen3-sdk-tools" class="md-nav__link">
    <span class="md-ellipsis">
      1. Prepare Project with the Gen3 SDK tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-selection-and-granting-gen3-secure-access-to-cloud-resources" class="md-nav__link">
    <span class="md-ellipsis">
      2. Selection and Granting Gen3 Secure Access to Cloud Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-upload-files-to-object-storage-with-cloud-resource-command-line-interface" class="md-nav__link">
    <span class="md-ellipsis">
      3. Upload files to Object Storage with Cloud Resource Command Line Interface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-create-bucket-mapping-and-manifest-files" class="md-nav__link">
    <span class="md-ellipsis">
      4. Create Bucket Mapping and Manifest Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-create-indexing-manifest-file" class="md-nav__link">
    <span class="md-ellipsis">
      5. Create Indexing Manifest File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-submit-file-indexing-manifest-to-indexd" class="md-nav__link">
    <span class="md-ellipsis">
      6. Submit file Indexing Manifest to Indexd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-map-files-to-a-data-node-with-the-gen3-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      7. Map files to a Data Node with the Gen3 SDK
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gen3-client-instructions-for-uploading-data" class="md-nav__link">
    <span class="md-ellipsis">
      Gen3 client instructions for uploading data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gen3 client instructions for uploading data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-installation-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      1. Installation Instructions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-configure-a-profile-with-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      2. Configure a Profile with Credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-upload-data-files-using-the-gen3-client" class="md-nav__link">
    <span class="md-ellipsis">
      3. Upload Data Files using the Gen3 Client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-how-to-upload-a-single-data-file-using-a-guid" class="md-nav__link">
    <span class="md-ellipsis">
      3. How to Upload a Single Data File Using a GUID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-how-to-upload-multiple-data-files-using-a-manifest" class="md-nav__link">
    <span class="md-ellipsis">
      4. How to Upload Multiple Data Files Using a Manifest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-quick-start-for-experienced-users-or-cheat-sheet" class="md-nav__link">
    <span class="md-ellipsis">
      5. Quick Start for Experienced Users or Cheat Sheet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-working-from-the-command-line" class="md-nav__link">
    <span class="md-ellipsis">
      6. Working from the Command line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submit-semi-structured-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Semi-structured data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authorization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controlling data authorization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../customize-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customize Gen3 Search
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../customize-frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customize the Front End
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Secrets and Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Secrets and Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_secrets-mgr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Secrets Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_global_IAM_helm_user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create an AWS IAM Global User
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Observability and Monitoring
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            Observability and Monitoring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_observability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Observability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_alloy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grafana Alloy Helm Chart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_faro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grafana Alloy and Faro
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Microservice Jobs and Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            Microservice Jobs and Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_jobs_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About Jobs in Gen3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_fence_usersync_job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fence Usersync Cronjob
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../developer-guide/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Developer Guide - Extend Gen3
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide - Extend Gen3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gen3 Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/key_repos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Key Repositories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/contribute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contribute Code to Gen3
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../blog/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../blog/archive/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../blog/archive/2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2023
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../blog/category/ctds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CTDS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../blog/category/operator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Operator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Frequently Asked Questions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://gen3.datacommons.io/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Demo @ gen3.datacommons.io
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#standard-submission-process" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Submission Process
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Standard Submission Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-prepare-project-in-submission-portal" class="md-nav__link">
    <span class="md-ellipsis">
      1. Prepare Project in Submission Portal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-upload-data-files-to-object-storage" class="md-nav__link">
    <span class="md-ellipsis">
      2. Upload Data Files to Object Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-map-uploaded-files-to-a-data-file-node" class="md-nav__link">
    <span class="md-ellipsis">
      3. Map Uploaded Files to a Data File Node
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexing-files-already-found-in-the-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Indexing files already found in the cloud
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Indexing files already found in the cloud">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-prepare-project-with-the-gen3-sdk-tools" class="md-nav__link">
    <span class="md-ellipsis">
      1. Prepare Project with the Gen3 SDK tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-selection-and-granting-gen3-secure-access-to-cloud-resources" class="md-nav__link">
    <span class="md-ellipsis">
      2. Selection and Granting Gen3 Secure Access to Cloud Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-upload-files-to-object-storage-with-cloud-resource-command-line-interface" class="md-nav__link">
    <span class="md-ellipsis">
      3. Upload files to Object Storage with Cloud Resource Command Line Interface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-create-bucket-mapping-and-manifest-files" class="md-nav__link">
    <span class="md-ellipsis">
      4. Create Bucket Mapping and Manifest Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-create-indexing-manifest-file" class="md-nav__link">
    <span class="md-ellipsis">
      5. Create Indexing Manifest File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-submit-file-indexing-manifest-to-indexd" class="md-nav__link">
    <span class="md-ellipsis">
      6. Submit file Indexing Manifest to Indexd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-map-files-to-a-data-node-with-the-gen3-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      7. Map files to a Data Node with the Gen3 SDK
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gen3-client-instructions-for-uploading-data" class="md-nav__link">
    <span class="md-ellipsis">
      Gen3 client instructions for uploading data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gen3 client instructions for uploading data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-installation-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      1. Installation Instructions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-configure-a-profile-with-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      2. Configure a Profile with Credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-upload-data-files-using-the-gen3-client" class="md-nav__link">
    <span class="md-ellipsis">
      3. Upload Data Files using the Gen3 Client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-how-to-upload-a-single-data-file-using-a-guid" class="md-nav__link">
    <span class="md-ellipsis">
      3. How to Upload a Single Data File Using a GUID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-how-to-upload-multiple-data-files-using-a-manifest" class="md-nav__link">
    <span class="md-ellipsis">
      4. How to Upload Multiple Data Files Using a Manifest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-quick-start-for-experienced-users-or-cheat-sheet" class="md-nav__link">
    <span class="md-ellipsis">
      5. Quick Start for Experienced Users or Cheat Sheet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-working-from-the-command-line" class="md-nav__link">
    <span class="md-ellipsis">
      6. Working from the Command line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
        <span class="md-tag">submission</span>
      
    
  </nav>


  
  


<div><h1 id="unstructured-data-data-files">Unstructured Data (Data Files)<a class="headerlink" href="#unstructured-data-data-files" title="Permanent link">¶</a></h1>
<p>Unstructured data are simply data files that have do not necessarily conform to any particular schema or format.  Some data files may be consistently structured (e.g .bam or .png), but Gen3 treats these simply as files and does not check whether they conform to a particular internal format or not.  To make data available to end users you must first upload the files and associate them with the appropriate node in the data dictionary.</p>
<h2 id="standard-submission-process">Standard Submission Process<a class="headerlink" href="#standard-submission-process" title="Permanent link">¶</a></h2>
<h3 id="1-prepare-project-in-submission-portal">1. Prepare Project in Submission Portal<a class="headerlink" href="#1-prepare-project-in-submission-portal" title="Permanent link">¶</a></h3>
<p>In order to upload data files you must at minimum have a <code>program</code>, <code>project</code>, and at least one record in the <code>core_metadata_collection</code> node or other data containing node. To review how to submit the program and project nodes see <a href="../submit-structured-data/#order-of-node-submission">here</a>.</p>
<p>This documentation will utilize the core_metadata_collection node but other nodes can be used depending on your unique data model. If your project already has at least one record in a node of this type, you can skip to <a href="#2-upload-data-files-to-object-storage">step 2</a>.</p>
<p>Do the following to create your first <code>core_metadata_collection</code> record:</p>
<ol>
<li>Go to your data commons' submission portal website</li>
<li>Click on 'Submit Data'</li>
<li>Find your project in the list of Projects and click 'Submit Data'</li>
<li>
<p>Click 'Use Form Submission' and choose <code>core_metadata_collection</code> from the dropdown list (or <a href="../img/gen3_core_metadata_collection_template.tsv">edit and upload this TSV</a> by clicking 'Upload File' then 'Submit')</p>
<p><img alt="node_dropdown.png" src="../img/node_dropdown.png"></p>
<p><img alt="cmc_form.png" src="../img/cmc_form.png"></p>
</li>
<li>
<p>Fill in the required information (see note below)</p>
</li>
<li>Click 'Upload submission json from form' and then 'Submit'</li>
<li>Make note of the <code>submitter_id</code> of your <code>core_metadata_collection</code> record for <a href="#3-map-uploaded-files-to-a-data-file-node">step 3</a> below</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Minimally, <code>submitter_id</code> and <code>projects.code</code> are required properties. The project <code>code</code> is the name of your project without the "program-" prefix. For example, if your project URL is <a href="https://gen3.datacommons.io/example-training">https://gen3.datacommons.io/example-training</a>, your project's <code>code</code> would be 'training', the <code>program</code> would be 'example', and your <code>project_id</code> would be the combination: 'example-training'.</p>
</blockquote>
<p>You should have received the message:</p>
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>succeeded: 200
Successfully created entities: 1 of core_metadata_collection
</code></pre></div>
<p>If you received any other message, then check the 'Details' to help determine the error.</p>
<p>To view the records in the <code>core_metadata_collection</code> node in your project, you can go to:
<a href="https://gen3.datacommons.io/example-training/search?node_type=core_metadata_collection">https://gen3.datacommons.io/example-training/search?node_type=core_metadata_collection</a>
(replacing the <code>gen3.datacommons.io</code> with your commons base URL and <code>example-training</code> with an actual project_id).</p>
<h3 id="2-upload-data-files-to-object-storage">2. Upload Data Files to Object Storage<a class="headerlink" href="#2-upload-data-files-to-object-storage" title="Permanent link">¶</a></h3>
<p>Adding files to your new Gen3 project can be done using one of two methods. The gen3-client tool (shown in steps below) offers users an easy way to upload files to Amazon S3 buckets while simultaneously indexing the files and assigning them each a unique GUID or object_id. Alternatively, if you are comfortable scripting and require something other than the default AWS bucket used by the gen3-client or your data files are already uploaded to their storage location in the cloud, we offer an option for <a href="#indexing-files-already-found-in-the-cloud">indexing data already found in the cloud</a>. This method offers several other benefits including the possibility of using multiple cloud resources and submitting multiple batches of data set files at once.
The following documentation will focus on using the <a href="#gen3-client-instructions-for-uploading-data">gen3-client</a> to upload data files, including spreadsheets, sequencing data (BAM, FASTQ), assay results, images, PDFs, etc., to Amazon S3 cloud storage.</p>
<ol>
<li>Download the latest <a href="https://github.com/uc-cdis/cdis-data-client/releases/latest">compiled binary</a> for your operating system.</li>
<li>
<p>Configure a profile with credentials downloaded from your Profile:</p>
<p></p><div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>./gen3-client configure --profile=&lt;profile_name&gt; --cred=&lt;credentials.json&gt; --apiendpoint=&lt;api_endpoint_url&gt;
</code></pre></div>
3. Upload Files: single data file, a directory of files, or matching files:
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>./gen3-client upload --profile=&lt;profile_name&gt; --upload-path=~/files/example.txt

./gen3-client upload --profile=&lt;profile_name&gt; --upload-path=~/files/

./gen3-client upload --profile=&lt;profile_name&gt; --upload-path=~/files/*.txt
</code></pre></div>
</li>
</ol>
<p>For detailed instructions on configuring and using the gen3-client, visit the <a href="#gen3-client-instructions-for-uploading-data">Gen3 client documentation</a>.</p>
<h3 id="3-map-uploaded-files-to-a-data-file-node">3. Map Uploaded Files to a Data File Node<a class="headerlink" href="#3-map-uploaded-files-to-a-data-file-node" title="Permanent link">¶</a></h3>
<p>Once data files are successfully uploaded, the files must be mapped to the appropriate node in the data model before they're accessible to authorized users.</p>
<ol>
<li>
<p>Go to your data commons submission portal website.</p>
</li>
<li>
<p>Click 'Submit Data'.</p>
<p><img alt="submit-data.png" src="../img/submit-data.png"></p>
</li>
<li>
<p>Click 'Map My Files' button.</p>
<p><img alt="map_my_files.png" src="../img/map-my-files.png"></p>
</li>
<li>
<p>Select the files to map using the checkboxes and click 'Map Files' button.</p>
<p><img alt="select-files.png" src="../img/select-files.png"></p>
</li>
<li>
<p>Select the project and node that the files belong to.</p>
<p><img alt="map-to-node.png" src="../img/map-to-node.png"></p>
</li>
<li>
<p>Fill in the values of any required properties and click 'Submit' button.</p>
<p><img alt="fill-required-properties.png" src="../img/fill-required-properties.png"></p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> The required property 'Type' in step 6 is the node's name (the 'type' of node) and should be the same as the value selected from the node dropdown list in step 5.</p>
</blockquote>
<p>You should receive the message "# files mapped successfully!" upon success.</p>
<hr>
<h2 id="indexing-files-already-found-in-the-cloud">Indexing files already found in the cloud<a class="headerlink" href="#indexing-files-already-found-in-the-cloud" title="Permanent link">¶</a></h2>
<p>This method is appropriate if you are comfortable scripting and require something other than the default AWS bucket used by the gen3-client or your data files are already uploaded to their storage location in the cloud. This method offers several other benefits including the possibility of using multiple cloud resources and submitting multiple batches of data set files at once. The following documentation will focus on using the gen3-client to upload data files, including spreadsheets, sequencing data (BAM, FASTQ), assay results, images, PDFs, etc., to Amazon S3 cloud storage. If these criteria do not apply then you should use the <a href="#standard-submission-process">Standard upload process</a> instead.</p>
<h3 id="1-prepare-project-with-the-gen3-sdk-tools">1. Prepare Project with the Gen3 SDK tools<a class="headerlink" href="#1-prepare-project-with-the-gen3-sdk-tools" title="Permanent link">¶</a></h3>
<p>Though not strictly required to be done as a first step, a Gen3 project must be present in the <a href="https://github.com/uc-cdis/sheepdog">Sheepdog microservice</a> to associate data files to before file indexing can take place. To achieve this, the <a href="https://uc-cdis.github.io/gen3sdk-python/_build/html/_modules/gen3/submission.html">Gen3 Submission SDK</a> has a comprehensive set of tools to enable users to script submission of programs and projects.  Alternatively, the <a href="#1-prepare-project-in-submission-portal">GUI submission platform</a> can be used to create a project.</p>
<p>Sample Code for submission of a Program and Project to a data commons:
</p><div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>import gen3
from gen3.submission import Gen3Submission

Gen3Submission.create_program(program_json)
Gen3Submission.create_project('test_program', project_json)
</code></pre></div>
<h3 id="2-selection-and-granting-gen3-secure-access-to-cloud-resources">2. Selection and Granting Gen3 Secure Access to Cloud Resources<a class="headerlink" href="#2-selection-and-granting-gen3-secure-access-to-cloud-resources" title="Permanent link">¶</a></h3>
<p>As Gen3 is considered "cloud agnostic", any or even multiple cloud resources can be configured to contain data for controlled end-user access.  If your data is already located in the cloud, please see the following <a href="#3-upload-files-to-object-storage-with-cloud-resource-command-line-interface">section</a> for considerations in the structure and permissions settings.</p>
<p>End-user access to cloud resources is enabled by signed-urls with authorization checks within Gen3 to ensure valid and secure access.  Policies within the respective cloud resources should be configured in the Gen3 Fence Microservice to allow the; <a href="https://github.com/uc-cdis/fence/blob/master/fence/config-default.yaml#L656">Gen3 Auth Service Bot - AWS</a>, <a href="https://github.com/uc-cdis/fence/blob/master/docs/azure_architecture.md">Gen3 Auth Service Bot - Azure</a>, or <a href="https://github.com/uc-cdis/fence/blob/master/docs/google_architecture.md">Gen3 Auth Service Bot - Google</a> to have access for the end user.</p>
<h5 id="aws-s3-example-bucket-policy-for-read-access">AWS S3 example bucket policy for READ access:<a class="headerlink" href="#aws-s3-example-bucket-policy-for-read-access" title="Permanent link">¶</a></h5>
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "AllowListLocation",
            "Effect": "Allow",
            "Principal": {
                "AWS": [
                    "arn:aws:iam::895962626746:user/fence_bot"
                ]
            },
            "Action": [
                "s3:GetBucketLocation",
                "s3:ListBucket"
            ],
            "Resource": "arn:aws:s3:::&lt;YOURBUCKETHERE&gt;"
        },
        {
            "Sid": "AllowGetObject",
            "Effect": "Allow",
            "Principal": {
                "AWS": "arn:aws:iam::895962626746:user/fence_bot"
            },
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::&lt;YOURBUCKETHERE&gt;/*"
        }
    ]
}
</code></pre></div>
<p>The location for the example AWS configuration posted above is available <a href="https://github.com/uc-cdis/fence/blob/master/fence/config-default.yaml#L656">here</a>.</p>
<h3 id="3-upload-files-to-object-storage-with-cloud-resource-command-line-interface">3. Upload files to Object Storage with Cloud Resource Command Line Interface<a class="headerlink" href="#3-upload-files-to-object-storage-with-cloud-resource-command-line-interface" title="Permanent link">¶</a></h3>
<p>Data can be uploaded to a single or separate cloud resources as long as requirements for access and authorization are met.  In order to support the many advantages of using Gen3’s standard tooling for CLI-DFS, data needs to first be organized and copied to cloud buckets following the guidelines detailed below.</p>
<h4 id="allocating-data-in-buckets-based-on-user-access">Allocating Data in Buckets Based on User Access<a class="headerlink" href="#allocating-data-in-buckets-based-on-user-access" title="Permanent link">¶</a></h4>
<p>Gen3 has the capability to grant access granularity at the bucket level designation only.  In this way data a particular bucket should only be associated with a single user access.</p>
<h5 id="bucket-allocation-example">Bucket Allocation Example:<a class="headerlink" href="#bucket-allocation-example" title="Permanent link">¶</a></h5>
<p>A user’s authorization may look something like:</p>
<p>A user has read access to phs001416.c1, phs001416.c2, phs000974.c2</p>
<p>The data in buckets could be separated by phsid+consent code combinations (as this is the smallest granularity of data access required).</p>
<p>The following bucket structure supports the ingestion of dbGaP’s MESA and FHS projects (from TOPMed). Each project has 2 distinct consent groups, and the data is mirrored on both AWS and Google buckets.</p>
<p>TOPMed-MESA (phs001416.c1 and .c2)
TOPMed-FHS (phs000974.c1 and .c2)</p>
<table>
<thead>
<tr>
<th>Project</th>
<th>AWS buckets</th>
<th>Google buckets</th>
</tr>
</thead>
<tbody>
<tr>
<td>MESA (consent group 1)</td>
<td>s3://nih-nhlbi-topmed-released-phs001416-c1</td>
<td>gs://nih-nhlbi-topmed-released-phs001416-c1</td>
</tr>
<tr>
<td>MESA (consent group 2)</td>
<td>s3://nih-nhlbi-topmed-released-phs001416-c2</td>
<td>gs://nih-nhlbi-topmed-released-phs001416-c2</td>
</tr>
<tr>
<td>FHS (consent group 1)</td>
<td>s3://nih-nhlbi-topmed-released-phs000974-c1</td>
<td>gs://nih-nhlbi-topmed-released-phs000974-c1</td>
</tr>
<tr>
<td>FHS (consent group 2)</td>
<td>s3://nih-nhlbi-topmed-released-phs000974-c2</td>
<td>gs://nih-nhlbi-topmed-released-phs000974-c2</td>
</tr>
</tbody>
</table>
<p>With a setup similar to this, Gen3 is able to support signed URLs and fully configured end-user access.</p>
<h4 id="bucket-population">Bucket Population<a class="headerlink" href="#bucket-population" title="Permanent link">¶</a></h4>
<p>Once a data allocation scheme is determined, data can be uploaded accordingly to cloud buckets.  It should be noted that while Amazon AWS and Google are the most supported cloud providers, Gen3 is cloud agnostic.  Any method and hierarchy structure can be used for upload as long as a the same parent directory is maintained with end user access.</p>
<p>Regardless of the cloud platform, the CLI-DFS workflow requires file data gathered from its cloud location.  Information such as file name, location, size, and md5sum are usually available from cloud platforms.  Documentation for <a href="https://aws.amazon.com/cli/">AWS</a>, <a href="https://cloud.google.com/storage/docs/gsutil">Google</a> and <a href="https://learn.microsoft.com/en-us/cli/azure/">Microsoft Azure</a> should provide guidance to acquiring this information.</p>
<blockquote>
<p>Note: The recommended (detailed here) way for Gen3 to provide controlled access to data is via Signed URLs. Signed URLs are the only fully cloud-agnostic method supported by Gen3 and additionally are supported by all major cloud resource providers. They also allow for short-lived, temporary access to the data for reduced risk.  Lastly, utilizing signed URLs places very few restrictions on the organization of data within could bucket(s).</p>
</blockquote>
<p>The files relevant to a Gen3 CLI-DFS Workflow submission:</p>
<ul>
<li>
<p>Bucket mapping file: File that maps authorization designations to parent level bucket locations.</p>
</li>
<li>
<p>Bucket manifest file: Created for each submission and contains file level information (i.e. name, size, md5sum).</p>
</li>
<li>
<p>Indexing manifest: Created for each submission and submits both authorization and file level information into the <a href="https://github.com/uc-cdis/indexd">Indexd microservice</a>.</p>
</li>
</ul>
<p>The creation and submission of these files is covered below.</p>
<blockquote>
<p>Note: The recommended (and simplest) way for Gen3 to provide controlled access to data is via Signed URLs. Signed URLs are the only fully cloud-agnostic method supported by Gen3 and additionally are supported by all major cloud resource providers. They also allow for short-lived, temporary access to the data for reduced risk.  Lastly, utilizing signed URLs places very few restrictions on the organization of data within could bucket(s).</p>
</blockquote>
<h3 id="4-create-bucket-mapping-and-manifest-files">4. Create Bucket Mapping and Manifest Files<a class="headerlink" href="#4-create-bucket-mapping-and-manifest-files" title="Permanent link">¶</a></h3>
<p>The below is the Gen3 recommended indexing file schema. While possible to utilize other configurations, they likely require significantly more administrative effort to maintain correct permissions in the cloud platform(s).</p>
<h4 id="bucket-mapping-file">Bucket Mapping File<a class="headerlink" href="#bucket-mapping-file" title="Permanent link">¶</a></h4>
<p>A Bucket mapping file is used maintain clear links between designated project authorization and parent level bucket locations. It should be maintained for the entire commons and appended when new datasets are ingested. The bucket mapping file should minimally contain the following fields and be presented in a tab delimited format.</p>
<p>The below example has 4 different authorizations for 8 bucket locations</p>
<h5 id="example-bucket-mapping-file">Example Bucket Mapping File<a class="headerlink" href="#example-bucket-mapping-file" title="Permanent link">¶</a></h5>
<table>
<thead>
<tr>
<th>bucket</th>
<th>authz</th>
</tr>
</thead>
<tbody>
<tr>
<td>s3://nih-nhlbi-topmed-phs001416-c1</td>
<td>phs001416.c1</td>
</tr>
<tr>
<td>gs://nih-nhlbi-topmed-phs001416-c1</td>
<td>phs001416.c1</td>
</tr>
<tr>
<td>s3://nih-nhlbi-topmed-phs001416-c2</td>
<td>phs001416.c2</td>
</tr>
<tr>
<td>gs://nih-nhlbi-topmed-phs001416-c2</td>
<td>phs001416.c2</td>
</tr>
<tr>
<td>s3://nih-nhlbi-topmed-phs000974-c1</td>
<td>phs000974.c1</td>
</tr>
<tr>
<td>gs://nih-nhlbi-topmed-phs000974-c1</td>
<td>phs000974.c1</td>
</tr>
<tr>
<td>s3://nih-nhlbi-topmed-phs000974-c2</td>
<td>phs000974.c2</td>
</tr>
<tr>
<td>gs://nih-nhlbi-topmed-phs000974-c2</td>
<td>phs000974.c2</td>
</tr>
</tbody>
</table>
<p>In the situation where Gen3 must support cloud-specific data access methods, Gen3 also requires the authz or acl column which contain the granular access control which would represent access to the entire bucket).</p>
<p>The authz column coordinates with the user permissions set in the Gen3 microservices <a href="https://github.com/uc-cdis/fence">Fence</a> and <a href="https://github.com/uc-cdis/arborist">Arborist</a>.</p>
<h4 id="bucket-manifest-file">Bucket Manifest File<a class="headerlink" href="#bucket-manifest-file" title="Permanent link">¶</a></h4>
<p>The bucket manifest file should contain individual file level metadata for a single batch of ingestion files. This means there will be several bucket manifest files per data commons. It is recommended that they are represented in a tab separated variable format and in each, a row should minimally contain the following information:</p>
<ul>
<li>File name</li>
<li>File size</li>
<li>File hash via md5sum</li>
<li>Exact file url in the bucket location</li>
</ul>
<p>If files are mirrored between cloud locations, bucket urls can be appended together with a whitespace delimiter.</p>
<p>In the below example of a Bucket manifest file, please note the mirrored file bucket locations in S3 and GCP:</p>
<h5 id="example-bucket-manifest-file">Example Bucket Manifest File<a class="headerlink" href="#example-bucket-manifest-file" title="Permanent link">¶</a></h5>
<table>
<thead>
<tr>
<th>File_name</th>
<th>File_size</th>
<th>md5sum</th>
<th>bucket_urls</th>
</tr>
</thead>
<tbody>
<tr>
<td>examplefile.txt</td>
<td>123456</td>
<td>sample_md5</td>
<td>s3://nih-phs001416-c1/exfile.txt gs://nih-phs001416-c1/exfile.txt</td>
</tr>
<tr>
<td>otherexamplefile.txt</td>
<td>123456</td>
<td>different_md5</td>
<td>s3://nih-nhlbi-topmed-released-phs001416-c1/otherexamplefile.txt gs://nih-nhlbi-topmed-released-phs001416-c1/otherexamplefile.txt</td>
</tr>
<tr>
<td>examplefile.txt</td>
<td>123456</td>
<td>sample_md5</td>
<td>s3://nih-nhlbi-topmed-released-phs001416-c2/examplefile.txt gs://nih-nhlbi-topmed-released-phs001416-c2/examplefile.txt</td>
</tr>
<tr>
<td>otherexamplefile.txt</td>
<td>123456</td>
<td>different_md5</td>
<td>s3://nih-nhlbi-topmed-released-phs001416-c2/otherexamplefile.txt gs://nih-nhlbi-topmed-released-phs001416-c2/otherexamplefile.txt</td>
</tr>
</tbody>
</table>
<h3 id="5-create-indexing-manifest-file">5. Create Indexing Manifest File<a class="headerlink" href="#5-create-indexing-manifest-file" title="Permanent link">¶</a></h3>
<p>An Indexing Manifest File is submitted to the <a href="https://github.com/uc-cdis/indexd">Indexd microservice</a> and is a combination of both the Bucket Mapping and Manifest file information.</p>
<p>While the two preceding files are not strictly necessary for maintenance and operation of a Gen3 data commons, they are recommended for ease of maintenance. For instance, if multiple authorization designations are required within a single bucket location, administrators will need to set them individually directly in the cloud platform as Gen3 has no capability to interact with cloud resource permissions in that manner.</p>
<h4 id="indexd-microservice-overview">Indexd Microservice Overview<a class="headerlink" href="#indexd-microservice-overview" title="Permanent link">¶</a></h4>
<p>The <a href="https://github.com/uc-cdis/indexd">Indexd microservice</a> is used by Gen3 to maintain an index of all files in a data commons and serves as the data source by several other microservices to build various features of Gen3 data commons. A central part of what enables Gen3's Indexd is the integration of a <a href="https://dataguids.org/">Globally Unique Identifier (GUID)</a> to each element added to the microservice.</p>
<h4 id="globally-unique-identifier-guid">Globally Unique Identifier (GUID)<a class="headerlink" href="#globally-unique-identifier-guid" title="Permanent link">¶</a></h4>
<p>GUIDs are primarily used to track and provide the current location of data and is designed to persist even as data is moved or copied. Information regarding the concept of GUIDs, GUID generation and look up of particular GUIDs can be found at <a href="https://dataguids.org/">dataguids.org</a>.</p>
<h4 id="indexing-manifest-components-and-structure">Indexing Manifest Components and Structure<a class="headerlink" href="#indexing-manifest-components-and-structure" title="Permanent link">¶</a></h4>
<p>By default GUIDs will be added to rows that lack an entry for that field when an indexing manifest is submitted to Indexd. GUIDs that are minted in this way are both available by querying Indexd or by referencing the submission output file that is generated.</p>
<p>As the Indexing Manifest is the file that is submitted to the <a href="https://github.com/uc-cdis/indexd">Indexd microservice</a>, it must be submitted in a tab separated variable file (.tsv) and contain the following fields:</p>
<ul>
<li>Globally Unique Identifier (GUID) - Either generated by indexd microservice at the time of submission or provided by the user prior to submission</li>
<li>File name</li>
<li>File size</li>
<li>File hash via md5sum</li>
<li>Exact file url in the bucket location</li>
<li>authz or acl authorization designation</li>
</ul>
<p>Users may notice that with the exception of GUIDs, this file is a combination of the Bucket Mapping and Manifest files.  If either AWS or Google cloud resources are used, Gen3 offers tools to produce bucket manifest files available at the following links:</p>
<ul>
<li><a href="https://github.com/uc-cdis/cloud-automation/blob/master/doc/bucket-manifest.md">AWS S3 Bucket Manifest Generation</a></li>
<li>
<p><a href="https://github.com/uc-cdis/cloud-automation/blob/master/doc/gcp-bucket-manifest.md">Google Bucket Manifest Generation</a></p>
<blockquote>
<p>Note: Bucket manifest generation scripts require using Gen3's full deployment code and, depending on the amount of data, calculating checksums for files can be costly and take time.</p>
</blockquote>
</li>
</ul>
<p>The below is an example of a Indexing Manifest File:</p>
<h5 id="example-indexing-manifest-file">Example Indexing Manifest File<a class="headerlink" href="#example-indexing-manifest-file" title="Permanent link">¶</a></h5>
<table>
<thead>
<tr>
<th>guid</th>
<th>File_name</th>
<th>File_size</th>
<th>md5sum</th>
<th>bucket_urls</th>
<th>auth</th>
</tr>
</thead>
<tbody>
<tr>
<td>dg.4503/02... ...7103bbe</td>
<td>examplefile.txt</td>
<td>34141</td>
<td>c79... ...dbd</td>
<td>s3://nih-phs001416-c1/exfile.txt gs://nih-phs001416-c1/exfile.txt</td>
<td>[phs001416.c1]</td>
</tr>
<tr>
<td>dg.4503/00... ...0211dfg</td>
<td>otherexamplefile.txt</td>
<td>562256</td>
<td>65a... ...bca</td>
<td>s3://nih-nhlbi-topmed-released-phs001416-c1/otherexamplefile.txt gs://nih-nhlbi-topmed-released-phs001416-c1/otherexamplefile.txt</td>
<td>[phs001416.c1]</td>
</tr>
<tr>
<td>dg.4503/00... ...7103bbe</td>
<td>examplefile.txt</td>
<td>36564</td>
<td>dca... ...774</td>
<td>s3://nih-nhlbi-topmed-released-phs001416-c2/examplefile.txt gs://nih-nhlbi-topmed-released-phs001416-c2/examplefile.txt</td>
<td>[phs001416.c2]</td>
</tr>
<tr>
<td>dg.4503/01... ...0410nnd</td>
<td>otherexamplefile.txt</td>
<td>2675</td>
<td>742... ...f1b</td>
<td>s3://nih-nhlbi-topmed-released-phs001416-c2/otherexamplefile.txt gs://nih-nhlbi-topmed-released-phs001416-c2/otherexamplefile.txt</td>
<td>[phs001416.c2]</td>
</tr>
</tbody>
</table>
<h3 id="6-submit-file-indexing-manifest-to-indexd">6. Submit file Indexing Manifest to Indexd<a class="headerlink" href="#6-submit-file-indexing-manifest-to-indexd" title="Permanent link">¶</a></h3>
<p>Once created, Gen3 offers an <a href="https://uc-cdis.github.io/gen3sdk-python/_build/html/tools/indexing.html">Indexing SDK toolkit</a> to build, validate and map all files into a Gen3 datacommons. The SDK functions reconcile and add data to the indexd microservice.</p>
<p>Sample code for validation and submission of a constructed indexing manifest file to indexd.
</p><div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>import gen3
from gen3.tools.indexing import validate_manifest_format
from gen3.tools.indexing.index_manifest import index_object_manifest

file_path = &lt;.tsv_indexd_file_addition&gt;

gen3.tools.indexing.validate_manifest_format.is_valid_manifest_format(file_path)

gen3.tools.indexing.index_manifest.index_object_manifest(commons_url=commons_url,
                                                                       manifest_file=file_path,
                                                                       thread_num=8,
                                                                       auth=authentication_object,
                                                                       output_filename=index_manifest[:-4] + '_output.tsv')
</code></pre></div>
<p><em>Please refer to the <a href="https://uc-cdis.github.io/gen3sdk-python/_build/html/auth.html">authentication sdk</a> for set up of the authentication_object used above</em></p>
<p><em>Note: Users in the Gen3-Community have published a <a href="https://github.com/jacquayj/gen3-s3indexer-extramural">repo</a> that index large pre-existing s3 buckets (disclaimer: CTDS is not responsible for the content and opinions on the third-party repos).</em></p>
<h3 id="7-map-files-to-a-data-node-with-the-gen3-sdk">7. Map files to a Data Node with the Gen3 SDK<a class="headerlink" href="#7-map-files-to-a-data-node-with-the-gen3-sdk" title="Permanent link">¶</a></h3>
<p>Once indexing is complete, Gen3 offers a <a href="https://uc-cdis.github.io/gen3sdk-python/_build/html/_modules/gen3/submission.html">Submission SDK toolkit</a> to map indexed data files to nodes designated to contain data in the data dictionary via the <a href="https://github.com/uc-cdis/sheepdog">Sheepdog microservice</a>.  Unless single data files are being ingested, the SDK submission toolkit generally requires a tab separated variable file, and specific nodes requirements for each data file type can be specified in the data dictionary. After mapping in Sheepdog is complete the file metadata will be mapped from the <a href="../submit-structured-data/#order-of-node-submission">program and project</a> administrative nodes (previously created) to its respective data containing nodes. The mapping in sheepdog is the basis for other search and query services either natively in sheepdog or after other extraction, transformation and load <a href="../customize-search/">(ETL)</a> services have been performed.</p>
<hr>
<h2 id="gen3-client-instructions-for-uploading-data">Gen3 client instructions for uploading data<a class="headerlink" href="#gen3-client-instructions-for-uploading-data" title="Permanent link">¶</a></h2>
<p>The gen3-client provides an easy-to-use, command-line interface for uploading and downloading data files to and from a Gen3 data commons from the terminal or command prompt, respectively.  Only information related to uploading is included below.  For instruction related to download please review the <a href="../../user-guide/access-data/#download-files-using-the-gen3-client">Downloading Files Using the Gen3-client section</a>.</p>
<h3 id="1-installation-instructions">1. Installation Instructions<a class="headerlink" href="#1-installation-instructions" title="Permanent link">¶</a></h3>
<p>Installation instructions are covered in the <a href="../../user-guide/access-data/#download-files-using-the-gen3-client">Downloading Files Using the Gen3-client section</a>.</p>
<h3 id="2-configure-a-profile-with-credentials">2. Configure a Profile with Credentials<a class="headerlink" href="#2-configure-a-profile-with-credentials" title="Permanent link">¶</a></h3>
<p>Profile configuration instructions are covered in the <a href="../../user-guide/access-data/#download-files-using-the-gen3-client">Downloading Files Using the Gen3-client section</a>.</p>
<h3 id="3-upload-data-files-using-the-gen3-client">3.  Upload Data Files using the Gen3 Client<a class="headerlink" href="#3-upload-data-files-using-the-gen3-client" title="Permanent link">¶</a></h3>
<p>For the typical data contributor, the <code>gen3-client upload</code> command should be used to upload data files to a Gen3 Data Commons. The commands <code>upload-single</code> and <code>upload-multiple</code> are used only in special cases, for example, when a file or collection of files are uploaded to specific GUIDs <em>after</em> generating structured data records for the files. These two commands are described in further detail in sections 3 and 4 below.</p>
<p>When data files are uploaded to a Gen3 data common's object storage, they are assigned a unique, 128-bit ID called a <a href="https://dataguids.org/">GUID</a>, which stands for "globally unique identifier". GUIDs are generated by the system software, not provided by users, and they are stored in the property <code>object_id</code> of a data_file's structured data.</p>
<p>When using the <code>gen3-client upload</code> command, a random, unique GUID will be generated and assigned to each data file that has been submitted, and an entry in the indexd database will be created for that file, which associates the storage location of the file with the file's object_id ("did" in the indexd record, see below for more details).</p>
<h4 id="options-and-user-input-flags">Options and User Input Flags<a class="headerlink" href="#options-and-user-input-flags" title="Permanent link">¶</a></h4>
<p>The following flags can be used with the <code>gen3-client upload</code> command:</p>
<table>
 <tr>
   <th>Flag name</th>
   <th>Required?</th>
   <th>Default value</th>
   <th>Explanation</th>
   <th>Sample usage</th>
 </tr>
 <tr>
   <td>profile</td>
   <td>Yes</td>
   <td>N/A</td>
   <td>The profile name that user wishes to use from the config file.</td>
   <td>--profile=demo</td>
 </tr>
 <tr>
   <td>upload-path</td>
   <td>Yes</td>
   <td>N/A</td>
   <td>The directory or file in which contains file(s) to be uploaded.</td>
   <td>--upload-path=../data_folder/</td>
 </tr>
 <tr>
   <td>batch</td>
   <td>No</td>
   <td>false</td>
   <td>If set to `true`, gen3-client will upload multiple files simultaneously. The maximum number of file can be uploaded at a same time is specified by the `numparallel` option</td>
   <td>--batch=true</td>
 </tr>
 <tr>
   <td>numparallel</td>
   <td>No</td>
   <td>3</td>
   <td>Number of uploads to run in parallel. Must be used in together with the `batch` option.</td>
   <td>--numparallel=5</td>
 </tr>
 <tr>
   <td>include-subdirname</td>
   <td>No</td>
   <td>false</td>
   <td>Include subdirectory names in file name.</td>
   <td>--include-subdirname=true</td>
 </tr>
 <tr>
   <td>force-multipart</td>
   <td>No</td>
   <td>false</td>
   <td>Force to use multipart upload if possible.</td>
   <td>--force-multipart=true</td>
 </tr>
</table>

<p>Example of a single file upload:
</p><div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>~&gt; gen3-client upload --profile=demo --upload-path=test.txt
2019/11/19 12:45:41 Finish parsing all file paths for "/Users/demo/Documents/test.txt"

The following file(s) has been found in path "/Users/demo/Documents/test.txt" and will be uploaded:
    /Users/demo/Documents/test.txt

2019/11/19 12:45:41 Uploading data ...
test.txt  25 B / 25 B [=======================================================================================================================================] 100.00% 0s
2019/11/19 12:45:41 Successfully uploaded file "/Users/demo/Documents/test.txt" to GUID 1a82043e-02ec-4974-a803-7c0fd33ecfd7.
2019/11/19 12:45:41 Local succeeded log file updated


Submission Results
Finished with 0 retries | 1
Finished with 1 retry   | 0
Finished with 2 retries | 0
Finished with 3 retries | 0
Finished with 4 retries | 0
Finished with 5 retries | 0
Failed                  | 0
TOTAL                   | 1
</code></pre></div>
<p>Example of uploading all files within an folder:
</p><div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>~/Documents&gt; gen3-client upload --profile=demo --upload-path=test_dir
2019/11/19 13:12:47 Finish parsing all file paths for "/Users/demo/Documents/test_dir"

The following file(s) has been found in path "/Users/demo/Documents/test_dir" and will be uploaded:
    /Users/demo/Documents/test_dir/test.doc
    /Users/demo/Documents/test_dir/test.jpg
    /Users/demo/Documents/test_dir/test_1.txt
    /Users/demo/Documents/test_dir/test_2.txt

2019/11/19 13:12:48 Uploading data ...
test.doc  46 B / 46 B [=================================================================================================================================================================] 100.00% 0s
2019/11/19 13:12:48 Successfully uploaded file "/Users/demo/Documents/test_dir/test.doc" to GUID 7d1b41d9-002e-46d0-8934-6606d246ca30.
2019/11/19 13:12:48 Local succeeded log file updated
2019/11/19 13:12:48 Uploading data ...
test.jpg  50 B / 50 B [=================================================================================================================================================================] 100.00% 0s
2019/11/19 13:12:48 Successfully uploaded file "/Users/demo/Documents/test_dir/test.jpg" to GUID 59059e8d-29bf-4f8b-b9a4-2cd0ef2420f6.
2019/11/19 13:12:48 Local succeeded log file updated
2019/11/19 13:12:48 Uploading data ...
test_1.txt  30 B / 30 B [===============================================================================================================================================================] 100.00% 0s
2019/11/19 13:12:48 Successfully uploaded file "/Users/demo/Documents/test_dir/test_1.txt" to GUID 6f6686f1-45f2-4e8d-a997-a669b9419fd3.
2019/11/19 13:12:48 Local succeeded log file updated
2019/11/19 13:12:48 Uploading data ...
test_2.txt  27 B / 27 B [===============================================================================================================================================================] 100.00% 0s
2019/11/19 13:12:49 Successfully uploaded file "/Users/demo/Documents/test_dir/test_2.txt" to GUID d8ec2f5a-0990-495f-8192-ca2f037d6236.
2019/11/19 13:12:49 Local succeeded log file updated


Submission Results
Finished with 0 retries | 4
Finished with 1 retry   | 0
Finished with 2 retries | 0
Finished with 3 retries | 0
Finished with 4 retries | 0
Finished with 5 retries | 0
Failed                  | 0
TOTAL                   | 4
</code></pre></div>
<p>Example of upload using wildcard. Here we specify <code>*txt</code> in the <code>--upload-path</code> to get only files with a "txt" extension in the "test_dir" directory:
</p><div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>~/Documents&gt; gen3-client upload --profile=demo --upload-path=test_dir/*txt
2019/11/19 15:49:07 Created folder "/Users/demo/.gen3/logs/"
2019/11/19 15:49:07 Finish parsing all file paths for "/Users/demo/Documents/test_dir/*txt"

The following file(s) has been found in path "/Users/demo/Documents/test_dir/*txt" and will be uploaded:
    /Users/demo/Documents/test_dir/test_1.txt
    /Users/demo/Documents/test_dir/test_2.txt

2019/11/19 15:49:07 Uploading data ...
test_1.txt  30 B / 30 B [===============================================================================================================================================================] 100.00% 0s
2019/11/19 15:49:07 Successfully uploaded file "/Users/demo/Documents/test_dir/test_1.txt" to GUID 956890a9-b8a7-4abd-b8f7-dd0020aaf562.
2019/11/19 15:49:07 Local succeeded log file updated
2019/11/19 15:49:07 Uploading data ...
test_2.txt  27 B / 27 B [===============================================================================================================================================================] 100.00% 0s
2019/11/19 15:49:07 Successfully uploaded file "/Users/demo/Documents/test_dir/test_2.txt" to GUID 6cf194f1-c68e-4976-8ca4-a0ce9701a9f3.
2019/11/19 15:49:07 Local succeeded log file updated


Submission Results
Finished with 0 retries | 2
Finished with 1 retry   | 0
Finished with 2 retries | 0
Finished with 3 retries | 0
Finished with 4 retries | 0
Finished with 5 retries | 0
Failed                  | 0
TOTAL                   | 2
</code></pre></div>
<p>Example using two wildcards in one path. Here we add <code>test_*/</code> to the <code>--upload-path</code> to upload files in more than one directory, and then we add <code>*.jpg</code> to add only the files from those directories with a ".jpg" extension:
</p><div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>~/Documents&gt; gen3-client upload --profile=demo --upload-path=./test_*/*.jpg
2019/11/19 15:53:12 Finish parsing all file paths for "/Users/demo/Documents/test_*/*.jpg"

The following file(s) has been found in path "/Users/demo/Documents/test_*/*.jpg" and will be uploaded:
    /Users/demo/Documents/test_dir/test.jpg
    /Users/demo/Documents/test_dir_2/test_2.jpg

2019/11/19 15:53:12 Uploading data ...
test.jpg  50 B / 50 B [=================================================================================================================================================================] 100.00% 0s
2019/11/19 15:53:13 Successfully uploaded file "/Users/demo/Documents/test_dir/test.jpg" to GUID 9bd009b6-e518-4fe5-9056-2b5cba163ca3.
2019/11/19 15:53:13 Local succeeded log file updated
2019/11/19 15:53:13 Uploading data ...
test_2.jpg  50 B / 50 B [===============================================================================================================================================================] 100.00% 0s
2019/11/19 15:53:13 Successfully uploaded file "/Users/demo/Documents/test_dir_2/test_2.jpg" to GUID 3d275025-8b7b-4f84-9165-72a8a174d642.
2019/11/19 15:53:13 Local succeeded log file updated


Submission Results
Finished with 0 retries | 2
Finished with 1 retry   | 0
Finished with 2 retries | 0
Finished with 3 retries | 0
Finished with 4 retries | 0
Finished with 5 retries | 0
Failed                  | 0
TOTAL                   | 2
</code></pre></div>
<h4 id="local-submission-history">Local Submission History<a class="headerlink" href="#local-submission-history" title="Permanent link">¶</a></h4>
<p>The application will keep track of which local files have already been submitted to avoid potential duplication in submissions. This information is kept in a .JSON file in the "logs" directory under the same user folder as where the <code>config</code> file lives, for example:</p>
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>Mac/Linux: /Users/demo/.gen3/logs/&lt;your_config_name&gt;_succeeded_log.json
Windows: C:\Users\demo\.gen3\logs\&lt;your_config_name&gt;_succeeded_log.json
</code></pre></div>
<p>Each object in the succeeded log file is a key/value pair of the full path of a file and the GUID it is associated with.</p>
<p>Example of a succeeded log JSON File:</p>
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>{
 "/Users/demo/test.gif":"65f5d77c-1b2a-4f41-a2c9-9daed5a59f14"
}
</code></pre></div>
<p>When you run a <code>gen3-client upload</code> command, the client will check the succeeded_log.json log file for the files found in the provided <code>--upload-path</code>. If a file in the <code>--upload-path</code> is found in the succeeded log file, it will be skipped. For example:
</p><div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>~/Documents&gt; gen3-client upload --profile=demo --upload-path=test.txt
2019/11/19 16:00:42 Finish parsing all file paths for "/Users/demo/Documents/test.txt"

The following file(s) has been found in path "/Users/demo/Documents/test.txt" and will be uploaded:
    /Users/demo/Documents/test.txt

2019/11/19 16:00:42 File "/Users/demo/Documents/test.txt" has been found in local submission history and has been skipped for preventing duplicated submissions.


Submission Results
Finished with 0 retries | 0
Finished with 1 retry   | 0
Finished with 2 retries | 0
Finished with 3 retries | 0
Finished with 4 retries | 0
Finished with 5 retries | 0
Failed                  | 0
TOTAL                   | 0
</code></pre></div>
<p>In the rare case that you need to upload the same file again, the success log file will need to be moved, modified, renamed, or deleted. Alternatively, the file itself can be moved or renamed, as the information stored in the succeeded_log.json is the file's full path.</p>
<h4 id="indexd-records">Indexd records<a class="headerlink" href="#indexd-records" title="Permanent link">¶</a></h4>
<p>When files are successfully uploaded by the gen3-client, the software service indexd creates a record for that file in the file index database, which can be accessed at the /index endpoint. For example, if the file's GUID is <code>dg.OADC/59097e14-2c04-4cc2-96f2-9d81f1da2ecb</code>, enter the following URL in a browser or request it via the API to view its indexd record: <a href="https://gen3.datacommons.io/index/dg.OADC/59097e14-2c04-4cc2-96f2-9d81f1da2ecb">https://gen3.datacommons.io/index/dg.OADC/59097e14-2c04-4cc2-96f2-9d81f1da2ecb</a>.</p>
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>{
  "acl": [
    "OpenAccess",
    "CCLE"
  ],
  "authz": [
    "/programs/OpenAccess/projects/CCLE"
  ],
  "baseid": "3f9e1af8-31a8-48b0-b4ea-e04a938e9ca1",
  "content_created_date": null,
  "content_updated_date": null,
  "created_date": "2022-07-11T16:47:20.989103",
  "description": null,
  "did": "dg.OADC/59097e14-2c04-4cc2-96f2-9d81f1da2ecb",
  "file_name": "CCLE_NP24.2009_Drug_data_2015.02.24.csv",
  "form": null,
  "hashes": {
    "crc": "cc06bdf5",
    "md5": "8358d8a5c0d96ef5a0982178c885e99e",
    "sha1": "5b3a66e288faf7386edf939d98f215a928f9c202",
    "sha256": "9dce1a7d4c27627bcb3b5c2e6d14873955aac2906e5d44ad344c265a491404e5",
    "sha512": "18fbe8ee00311129b22b729107cbfd9a63ef18e3c22366d3c7909996b0c3d3f1b19c1606fffa0d33f336f4084ead3512cd599537979aa281b3c3ad208cd8de27"
  },
  "metadata": {

  },
  "rev": "fd770f06",
  "size": 2393993,
  "updated_date": "2022-07-11T16:54:41.813024",
  "uploader": null,
  "urls": [
    "s3://oadc-data-bucket/dg.OADC/59097e14-2c04-4cc2-96f2-9d81f1da2ecb/CCLE_NP24.2009_Drug_data_2015.02.24.csv"
  ],
  "urls_metadata": {
    "s3://oadc-data-bucket/dg.OADC/59097e14-2c04-4cc2-96f2-9d81f1da2ecb/CCLE_NP24.2009_Drug_data_2015.02.24.csv": {

    }
  },
  "version": null
}
</code></pre></div>
<h4 id="mapping-uploaded-files">Mapping uploaded files<a class="headerlink" href="#mapping-uploaded-files" title="Permanent link">¶</a></h4>
<p>Files that have been successfully uploaded now have a GUID associated with them, and there is also an associated record in the indexd database. However, in order for the files to show up in the data portal, the files have to be registered in the PostgreSQL database. In other words, indexd records exist for the files, but sheepdog records (that is, structured metadata in the graph model) don't exist yet. Thus, the files aren't yet associated with any particular program, project, or node. To create the structured data records for the files via the sheepdog service, the Data Portal offers a "Map My Files" UI, which can be reviewed <a href="#3-map-uploaded-files-to-a-data-file-node">here</a>.</p>
<h4 id="removing-unwanted-uploaded-files">Removing unwanted uploaded files<a class="headerlink" href="#removing-unwanted-uploaded-files" title="Permanent link">¶</a></h4>
<p>Before the files are mapped to a project's node in the data model, the files can be deleted both from indexd and from the cloud location by sending a delete request to the fence endpoint <code>/user/data/</code>. For example, to delete the file we checked in the index above, we'd send a delete API request to this URL: <a href="https://gen3.datacommons.io/user/data/dg.OADC/59097e14-2c04-4cc2-96f2-9d81f1da2ecb">https://gen3.datacommons.io/user/data/dg.OADC/59097e14-2c04-4cc2-96f2-9d81f1da2ecb</a></p>
<p>For example, running <a href="https://github.com/uc-cdis/planx-bioinfo-tools/blob/master/submission_tool/delete_unmapped_files.py">this script</a> will delete all the user's unmapped files from indexd and from the storage location using the fence endpoint:
</p><div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>~&gt; python delete_uploaded_files.py -a https://gen3.datacommons.io -u user@gen3.org -c ~/Downloads/demo-credentials.json
Found the following guids for uploader user@gen3.org: ['3d275025-8b7b-4f84-9165-72a8a174d642', '5bcd2a59-8225-44a1-9562-f74c324d8dec', '6cf194f1-c68e-4976-8ca4-a0ce9701a9f3', '956890a9-b8a7-4abd-b8f7-dd0020aaf562', '9bd009b6-e518-4fe5-9056-2b5cba163ca3']
Successfully deleted GUID 3d275025-8b7b-4f84-9165-72a8a174d642
Successfully deleted GUID 5bcd2a59-8225-44a1-9562-f74c324d8dec
Successfully deleted GUID 6cf194f1-c68e-4976-8ca4-a0ce9701a9f3
Successfully deleted GUID 956890a9-b8a7-4abd-b8f7-dd0020aaf562
Successfully deleted GUID 9bd009b6-e518-4fe5-9056-2b5cba163ca3
</code></pre></div>
<h3 id="3-how-to-upload-a-single-data-file-using-a-guid">3. How to Upload a Single Data File Using a GUID<a class="headerlink" href="#3-how-to-upload-a-single-data-file-using-a-guid" title="Permanent link">¶</a></h3>
<p>If a data file has already been assigned a GUID via registration in a Gen3 data commons' indexd database, then the gen3-client can be used to upload the file associated with that GUID to object storage via the <code>gen3-client upload-single</code> command.</p>
<blockquote>
<p><strong>NOTE:</strong> For most data uploaders, using the <code>gen3-client upload</code> command followed by mapping files in the data portal is the preferred method for uploading files. See <a href="#2-upload-data-files-to-object-storage">this section</a> of the documentation for details.</p>
</blockquote>
<p>The GUID or <code>object_id</code> property for a submitted data file can then be obtained via graphQL query or viewing the data file JSON record in the graphical model of the project.</p>
<p>Example Usage:</p>
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>gen3-client upload-single --profile=&lt;profile_name&gt; --guid=&lt;GUID&gt; --file=&lt;filename&gt;

gen3-client upload-single --profile=demo --guid=b4642430-8c6e-465a-8e20-97c458439387 --file=test.gif

Uploading data ...
test.gif  3.64 MiB / 3.64 MiB [==========================================================================================] 100.00%
Successfully uploaded file "test.gif" to GUID b4642430-8c6e-465a-8e20-97c458439387.
1 files uploaded.
</code></pre></div>
<h3 id="4-how-to-upload-multiple-data-files-using-a-manifest">4. How to Upload Multiple Data Files Using a Manifest<a class="headerlink" href="#4-how-to-upload-multiple-data-files-using-a-manifest" title="Permanent link">¶</a></h3>
<p>Users can automate the bulk upload of data files by providing the gen3-client with an upload manifest. The upload manifest should follow the same format as the download manifest, which is described in the previous section. Minimally, the manifest file is a JSON that contains <code>object_id</code> fields. The value of each <code>object_id</code> field is the GUID (globally unique identifier) of a data file that will be uploaded. In this mode, we assume the filenames of data files to be uploaded are the same as the GUIDs.</p>
<p>Example of manifest.json (Minimal):</p>
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>[
  {
    "object_id": "a12ff17c-2fc0-475a-9c21-50c19950b082"
  },
  {
    "object_id": "b12ff17c-2fc0-475a-9c21-50c19950b082"
  },
  {
    "object_id": "c12ff17c-2fc0-475a-9c21-50c19950b082"
  }
]
</code></pre></div>
<p>The gen3-client will upload all the files in the provided manifest using the <code>gen3-client upload-multiple</code> command.</p>
<p>Example Usage:</p>
<div class="highlight"><span class="filename">Text Only</span><pre><span></span><code>gen3-client upload-multiple --profile=&lt;profile_name&gt; --manifest=&lt;manifest_file&gt; --upload-path=&lt;path_for_files&gt;

gen3-client upload-multiple --profile=demo --manifest=manifest.json --upload-path=upload

Uploading data ...
a12ff17c-2fc0-475a-9c21-50c19950b082  3.64 MiB / 3.64 MiB [==========================================================================================] 100.00%
b12ff17c-2fc0-475a-9c21-50c19950b082  3.63 MiB / 3.63 MiB [==========================================================================================] 100.00%
c12ff17c-2fc0-475a-9c21-50c19950b082  3.65 MiB / 3.65 MiB [==========================================================================================] 100.00%
Successfully uploaded file "a12ff17c-2fc0-475a-9c21-50c19950b082" to GUID a12ff17c-2fc0-475a-9c21-50c19950b082.
Successfully uploaded file "b12ff17c-2fc0-475a-9c21-50c19950b082" to GUID b22ff17c-2fc0-475a-9c21-50c19950b082.
Successfully uploaded file "c12ff17c-2fc0-475a-9c21-50c19950b082" to GUID c22ff17c-2fc0-475a-9c21-50c19950b082.
3 files uploaded.
</code></pre></div>
<h3 id="5-quick-start-for-experienced-users-or-cheat-sheet">5. Quick Start for Experienced Users or Cheat Sheet<a class="headerlink" href="#5-quick-start-for-experienced-users-or-cheat-sheet" title="Permanent link">¶</a></h3>
<p>Quick start instructions are covered in the <a href="../../user-guide/access-data/#download-files-using-the-gen3-client">Downloading Files Using the Gen3-client section</a>.</p>
<h3 id="6-working-from-the-command-line">6. Working from the Command line<a class="headerlink" href="#6-working-from-the-command-line" title="Permanent link">¶</a></h3>
<p>Working from the command line instructions are covered in the <a href="../../user-guide/access-data/#download-files-using-the-gen3-client">Downloading Files Using the Gen3-client section</a>.</p>
<!-- Standard Submission -->

<!-- Indexing files already in teh cloud -->
<!-- Gen3 Client --></div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    
      
      <nav
        class="md-footer__inner md-grid"
        aria-label="Footer"
        
      >

        <!-- Link to previous page -->
        
          
          <a
            href="../submit-structured-data/"
            class="md-footer__link md-footer__link--prev"
            aria-label="Previous: Structured Data"
          >
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Structured Data
              </div>
            </div>
          </a>
        

        <!-- Link to next page -->
        
          
          <a
            href="../submit-semi-structured-data/"
            class="md-footer__link md-footer__link--next"
            aria-label="Next: Semi-structured data"
          >
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Semi-structured data
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>

      <!-- Custom link to Center for Translational Data Science -->
      <div class="md-footer__link" style="vertical-align: middle; padding-bottom: 10px;">
        <a href="https://ctds.uchicago.edu/" target="_blank" rel="noopener noreferrer">
          Center for Translational Data Science
        </a>
      </div>
      <!-- End of custom link -->

      <!-- Social links -->
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/center-for-translational-data-science/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSczyhhOXeCK9FdVtpQpelOHYnRj1EAq1rwwnm9q6cPAe5a7ug/viewform" target="_blank" rel="noopener" title="docs.google.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1s21.16-47.06 47.06-47.06h47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06S448 171 448 196.9s-21.16 47.06-47.06 47.06h-47.06zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06S309 480 283.1 480s-47.06-21.16-47.06-47.06v-47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06s21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/channel/UCMCwQy4EDd1BaskzZgIOsNQ/featured" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/uc-cdis" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://bsky.app/profile/ctds-uchicago.bsky.social" target="_blank" rel="noopener" title="bsky.app" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2 42.1-31.6 110.3-56 110.3 21.8 0 15.5-8.9 130.5-14.1 149.2-18.2 64.8-84.4 81.4-143.3 71.3C456 322 482.2 380 425.6 438c-107.4 110.2-154.3-27.6-166.3-62.9-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8c-12 35.3-59 173.1-166.3 62.9-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1 10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.footer", "navigation.indexes", "navigation.tracking", "navigation.path"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../../../js/dd.js"></script>
      
    
  </body>
</html>